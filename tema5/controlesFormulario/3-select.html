<!DOCTYPE  html>
<html>
    <head>
        <meta  http-equiv="content-type"  content="text/html;charset=utf-8">
        <title>DWEC05 - Trabajando con un objeto Select</title>
        <style>
            ul {list-style-type: none;}
        </style>


        <script  type="text/javascript">
            let frmSelect;
            const iniciar = ()=>{
                frmSelect = document.getElementById("frmSelect");
                // asociamos al evento submit del elemento formulario la función de validación en la linea 39
                //frmSelect.consultar.addEventListener("click", consultar);//si uso el nombre como puede haber varios entonces me devuelve un array y tendria que indicar cual con un corchete
                document.getElementById("provincias").addEventListener("change", consultar);
            }
            
            document.addEventListener("DOMContentLoaded", iniciar);

            const consultar = () => {
                let provincias = document.getElementById("provincias");
                let texto = provincias.options[provincias.selectedIndex].text;
                let valor = provincias.options[provincias.selectedIndex].value;
                document.getElementById("informacion").innerHTML = `Datos de la opción seleccionada:<br>Texto: ${texto}<br>Valor: ${valor}`;
            }
        </script>


    </head>
    <body>
        <h1>Trabajando con un objeto Select</h1>
        <ul>
            <b>Propiedades:</b>
            <li>options: conjunto de opciones (elementos &lt;option&gt;</li>
            <li>value: el valor del elemento &lt;option&gt; seleccionado, y</li>    
            <li>selectedIndex: el número del elemento &lt;option&gt; seleccionado.</li>
        </ul>
        <form id="frmSelect">
            <p>
                <label for="provincias">Seleccione provincia: </label>
                <select name="provincias" id="provincias"><!--le añadire el evento al select-->
                    <option value="AL">Almería</option>
                    <option value="JA">Jaen</option>
                    <option value="GR">Granada</option>
                    <option value="MA">Málaga</option>
                    <option value="SE">Sevilla</option>
                    <option value="CO">Córdoba</option>
                    <option value="CA">Cádiz</option>
                    <option value="HU">Huelva</option>
                </select>
            </p>
            <p>
                Selecciona una opción y pulsa el botón.
            </p>
           <!-- <input type="button" name="consultar" id="consultar" value="Consultar información de la opción">-->
        </form>
        <div id="informacion"></div>
    </body>
</html>